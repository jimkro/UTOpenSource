<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>JavaScript電子書範例</title>
  <style type='text/css'>
    body
    {
      background:black;
      color:white;
    }
    div#all
    {
      width:1024px;
      margin:auto;
    }
    img#picture
    {
      width:1024px;
      height:768px;
    }
  </style>
  <script type="text/javascript">
    var opacity=0.2;
	var intervalID;
	var spiritHeight=178;
    function load()
    {
       document.getElementById("pictureContainer").innerHTML="<img src='image/p0-5.jpg' alt='繪本封面' id='picture'>";
	   document.getElementById("picture").style.opacity=opacity;
       intervalID=setInterval("fadeIn();",100);
	   
    }
    function fadeIn()
    {
	  opacity+=0.05;
      document.getElementById("picture").style.opacity=opacity;
	  if (opacity>=1)
	  {
		clearInterval(intervalID);  
		intervalID=setInterval("fadeOut();",100);
	  }
    }
	function fadeOut()
    {
	  opacity-=0.05;
      document.getElementById("spirit").style.opacity=opacity;
	  if (opacity<=0)
	  {
		clearInterval(intervalID);  
        intervalID=setInterval("coverUp();",10);
	  }
    }
	function coverUp()
	{
	  spiritHeight-=1;
	  if (spiritHeight>=0)
	  {
	    document.getElementById("spirit").height=spiritHeight;
	  }
	  else
	  {
		clearInterval(intervalID);   
	  }
	}
	
  </script>
</head>

<body>
  <div id="all">
      <img src="image/spirit.png" id="spirit" onclick="load();">
      <div id="pictureContainer">
      </div>
  </div>
</body>
</html>
